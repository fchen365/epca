---
title: "Introduction to `epca`"
author: "Fan Chen (fan.chen@wisc.edu)"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteEngine{knitr::knitr}
  %\VignetteIndexEntry{Introduction to `epca`}
  %\usepackage[UTF-8]{inputenc}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(epca)
```

## Example

Let's simulate a rank-5 data matrix with some additive Gaussian noise.
```{r simu}
n <- 300
p <- 50
k <- 5 
Z <- shrinkage(polar(matrix(runif(n * k), n, k)), sqrt(n))
B <- diag(5) * 3
Y <- shrinkage(polar(matrix(runif(p * k), p, k)), sqrt(p))
E <- matrix(rnorm(n * p, sd = .01), n, p)
X <- scale(Z %*% B %*% t(Y) + E)
```

Now, perform the sparse PCA.
```{r}
s.sca <- sca(X, k)
s.sca
```

Similarly, we can do sparse matrix decomposition.
```{r}
s.sma <- sma(X, k)
s.sma
```

